
Создать .env наподобие .env.example (можно скопировать и переименовать)

Создать БД at_work

Выполнить команду php artisan migrate

Выполнить команду php artisan storage:link


1. Комментарии
1) Получить все комментарии:

GET|HEAD        api/comments                      comments.index › Api\CommentController@index

Возвращает ответ, подобный:
{
"success": true,
"0": [
{
"id": 4,
"user_id": 6,
"company_id": 2,
"content": "Задача организации, в особенности же новая модель организационной деятельности в значительной степени обуславливает создание новых предложений. Задача организации, в особенности же начало повседневной работы по формированию позиции играет важную роль в формировании направлений прогрессивного развития.",
"rating": "10"
},
{
"id": 5,
"user_id": 7,
"company_id": 2,
"content": "Задача организации, в особенности же новая модель организационной деятельности в значительной степени обуславливает создание новых предложений. Задача организации, в особенности же начало повседневной работы по формированию позиции играет важную роль в формировании направлений прогрессивного развития.",
"rating": "5"
}]}


2) Создать комментарий:

POST            api/comments                      comments.store › Api\CommentController@store

Ожидает к получению:
user_id: Внешний ключ к пользователю
company_id: Внешний ключ к компании
content: (Принимает текст длиной от 150 до 550 символов)
rating: (Принимает числа от 1 до 10)

Возвращает ответ, подобный:
{
"success": true,
"message": "Данные успешно сохранены"
}


3) Получить комментарий по id:

GET|HEAD        api/comments/{comment}            comments.show › Api\CommentController@show

Возвращает ответ, подобный:
[{
"success": true,
"0": {
"id": 5,
"user_id": 7,
"company_id": 2,
"content": "Задача организации, в особенности же новая модель организационной деятельности в значительной степени обуславливает создание новых предложений. Задача организации, в особенности же начало повседневной работы по формированию позиции играет важную роль в формировании направлений прогрессивного развития.",
"rating": "5"
}
}]


4) Редактирует существующий комментарий:
PUT|PATCH       api/comments/{comment}            comments.update › Api\CommentController@update

Ожидает к получению:
id: изменяемого комментария
user_id: Внешний ключ к пользователю
company_id: Внешний ключ к компании
content: (Принимает текст длиной от 150 до 550 символов)
rating: (Принимает числа от 1 до 10)

Возвращает ответ, подобный:
{
"success": true,
"message": "Данные успешно обновлены"
}


5) Удаляет комментарий(soft):

DELETE          api/comments/{comment}            comments.destroy › Api\CommentController@destroy

Возвращает ответ, подобный:
{
"success": true,
"message": "Данные успешно удалены"
}


2. Компании
1) Получить все компании:

GET|HEAD        api/companies                     companies.index › Api\CompanyController@index

Возвращает ответ, подобный:
"success": true,
"0": [
{
"id": 2,
"name": "Test1",
"description": "Задача организации, в особенности же новая модель организационной деятельности в значительной степени обуславливает создание новых предложений. Задача организации, в особенности же начало повседневной работы по формированию позиции играет важную роль в формировании направлений прогрессивного развития.",
"logo": "images/logos/jnriV1JTmCdP0tZUxXqRQfYDAk0HqWcRYRUFCupw.png"
},
{
"id": 3,
"name": "Test111",
"description": "Задача организации, в особенности же новая модель организационной деятельности в значительной степени обуславливает создание новых предложений. Задача организации, в особенности же начало повседневной работы по формированию позиции играет важную роль в формировании направлений прогрессивного развития.",
"logo": "images/logos/YTzrhfr8vtVwFnVLntXj7QLSO1bAhgk6rrSxQRHt.png"
}]


2) Создать компанию:

POST            api/companies                     companies.store › Api\CompanyController@store

Ожидает к получению:
name: (Принимает названия длиной более 3 символов и менее 40 символов)
description: (Принимает текст длиной от 150 до 400 символов)
logo: (Принимает изображения в формате PNG, с максимальным размером файла 3 МБ)

Возвращает ответ, подобный:
{
"success": true,
"message": "Данные успешно сохранены"
}


3) Получить компанию по id:

GET|HEAD        api/companies/{company}           companies.show › Api\CompanyController@show

Возвращает ответ, подобный:
[{
"success": true,
"0": {
"id": 3,
"name": "Test111",
"description": "Задача организации, в особенности же новая модель организационной деятельности в значительной степени обуславливает создание новых предложений. Задача организации, в особенности же начало повседневной работы по формированию позиции играет важную роль в формировании направлений прогрессивного развития.",
"logo": "images/logos/YTzrhfr8vtVwFnVLntXj7QLSO1bAhgk6rrSxQRHt.png"
}
}]


4) Редактирует существующую компанию:

PUT|PATCH       api/companies/{company}           companies.update › Api\CompanyController@update

Ожидает к получению:
id: изменяемой компании
name: (Принимает названия длиной более 3 символов и менее 40 символов)
description: (Принимает текст длиной от 150 до 400 символов)
logo: (Принимает изображения в формате PNG, с максимальным размером файла 3 МБ)

Возвращает ответ, подобный:
[{
"success": true,
"0": "Данные успешно обновлены"
}]


5) Удаляет компанию (soft):

DELETE          api/companies/{company}           companies.destroy › Api\CompanyController@destroy

Возвращает ответ, подобный:
{
"success": true,
"message": "Данные успешно удалены"
}


6) Получить комментарии компании по id:
GET|HEAD        api/companies/comments/{company}  Api\CompanyController@getComments

Возвращает ответ, подобный:
{
"success": true,
"0": [
{
"id": 5,
"user_id": 7,
"content": "Задача организации, в особенности же новая модель организационной деятельности в значительной степени обуславливает создание новых предложений. Задача организации, в особенности же начало повседневной работы по формированию позиции играет важную роль в формировании направлений прогрессивного развития."
},
{
"id": 6,
"user_id": 1,
"content": "Задача организации, в особенности же новая модель организационной деятельности в значительной степени обуславливает создание новых предложений. Задача организации, в особенности же начало повседневной работы по формированию позиции играет важную роль в формировании направлений прогрессивного развития."
}]}


7) Получить общую оценку компании:

GET|HEAD        api/companies/rate/{company}      Api\CompanyController@getRate

Возвращает ответ, подобный:
{
"success": true,
"rating": 2.6666666666666665
}


8) Получить топ-{limit} компаний по оценке:
GET|HEAD        api/companies/top/{limit}                 Api\CompanyController@getTopRated

Возвращает ответ, подобный:
{
"success": true,
"rating": [
{
"id": 4,
"name": "Test11",
"description": "Задача организации, в особенности же новая модель организационной деятельности в значительной степени обуславливает создание новых предложений. Задача организации, в особенности же начало повседневной работы по формированию позиции играет важную роль в формировании направлений прогрессивного развития.",
"logo": "images/logos/VJH5exg9fLSPIaQ4Z9lIDm7mLWSYOIXz2Nbn8OFU.png",
"comments_avg_rating": 8.5
},
{
"id": 3,
"name": "Test111",
"description": "Задача организации, в особенности же новая модель организационной деятельности в значительной степени обуславливает создание новых предложений. Задача организации, в особенности же начало повседневной работы по формированию позиции играет важную роль в формировании направлений прогрессивного развития.",
"logo": "images/logos/YTzrhfr8vtVwFnVLntXj7QLSO1bAhgk6rrSxQRHt.png",
"comments_avg_rating": 5
}]}



3. Пользователи
1) Получить всех пользователей:
GET|HEAD        api/users                         users.index › Api\UserController@index

Возвращает ответ, подобный:
{
"success": true,
"0": [
{
"id": 1,
"name": "Test",
"surname": "Testov",
"phone": "+79995551111",
"avatar": "images/avatars/Ca4JcXdl0X9dIIKcogGHvvXk2ZcX5Hs6jGo3GAKR.png"
},
{
"id": 2,
"name": "Test",
"surname": "Testov",
"phone": "+79995551122",
"avatar": "images/avatars/6zZAfQnR39ndnhU3lNFeOWoHo8C6VhblrBJZOoCU.jpg"
}]}


2) Создать пользователя:
POST            api/users                         users.store › Api\UserController@store

Ожидает к получению:
name: (Принимает имена длиной более 3 символов и менее 40 символов)
surname: (Принимает фамилии длиной более 3 символов и менее 40 символов)
phone: (Принимает номера телефонов в формате +7XXXXXXXXXX)
avatar: (Принимает изображения в форматах PNG и JPG, с максимальным размером файла 2 МБ)

Возвращает ответ, подобный:
{
"success": true,
"message": "Данные успешно сохранены"
}


3) Получить пользователя по id:

GET|HEAD        api/users/{user}                  users.show › Api\UserController@show

Возвращает ответ, подобный:
{
"success": true,
"0": {
"id": 2,
"name": "Test",
"surname": "Testov",
"phone": "+79995551122",
"avatar": "images/avatars/6zZAfQnR39ndnhU3lNFeOWoHo8C6VhblrBJZOoCU.jpg"
}
}


4) Редактировать пользователя:

PUT|PATCH       api/users/{user}                  users.update › Api\UserController@update

Ожидает к получению:
id: редактируемого пользователя
name: (Принимает имена длиной более 3 символов и менее 40 символов)
surname: (Принимает фамилии длиной более 3 символов и менее 40 символов)
phone: (Принимает номера телефонов в формате +7XXXXXXXXXX)
avatar: (Принимает изображения в форматах PNG и JPG, с максимальным размером файла 2 МБ)

Возвращает ответ, подобный:
[{
"success": true,
"0": "Данные успешно обновлены"
}]


5) Удаляет пользователя (soft):

DELETE          api/users/{user}                  users.destroy › Api\UserController@destroy

Возвращает ответ, подобный:
{
"success": true,
"message": "Данные успешно удалены"
}
